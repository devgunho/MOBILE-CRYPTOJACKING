<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Time lapse of a hibernating bear</title>

    <meta property="og:title" content="Time lapse of a hibernating bear" />
<meta name="description" content="Click to view the video.  [Bear Park (BÃ¤renpark) Bern](https://www.tierpark-bern.ch) has set up a [Webcam](https://www.tierpark-bern.ch/index-de.php?frameset=2">
<meta property="og:description" content="Click to view the video.  [Bear Park (BÃ¤renpark) Bern](https://www.tierpark-bern.ch) has set up a [Webcam](https://www.tierpark-bern.ch/index-de.php?frameset=2" />
    <meta property="og:image" content="https://glow.li/media/images/bÃ¤renpark-bÃ¤r.jpg" />

    <meta property="og:video" content="https://glow.li/media/videos/bear-hibernation-time-lapse.mp4" />

    <base href="https://glow.li/">

    <link rel="apple-touch-icon" sizes="180x180" href="https://glow.li/apple-touch-icon.png?6ccd5">
<link rel="icon" type="image/png" href="https://glow.li/favicon-32x32.png?6ccd5" sizes="32x32">
<link rel="icon" type="image/png" href="https://glow.li/favicon-16x16.png?6ccd5" sizes="16x16">
<link rel="manifest" href="https://glow.li/manifest.webmanifest">
<link rel="mask-icon" href="https://glow.li/safari-pinned-tab.svg?6ccd5" color="#000000">
<meta name="theme-color" content="#000000">

                <link rel="stylesheet" href="https://glow.li/min/glow.li.min.css?5bd46">
        
    <link href="https://micro.blog/glow" rel="me" />
<link href="https://chaos.social/@glow" rel="me" />

</head>

        <body class="nojs">
        <div class="page-container">
    <div class="site-header">
        <!--empty a tag for elinks to not select the header as first link-->
    <a class="nocss specialemptylink" href="#">&nbsp;</a>
    <div class="beforesearch">
        <div class="wrapper titlewrapper">
            <pre class="pre-header"><a class="site-title" id="site-title" data-content="  _            _  
âââââ âââ,,. ~Â°Â°Â°â
ââââââââââ%#Xâ,  #
 âââââââââ&amp;KÂ°%M#%Â°
 ââââ oââââo #5M% 
 ââ#ââââââââââ#0&amp; 
âââM%ââââââââââââ 
 ââââââââââââââââ 
  ââââââââââââââ  
" href="https://glow.li/">  _            _  
âââââ âââ,,. ~Â°Â°Â°â
ââââââââââ%#Xâ,  #
 âââââââââ&amp;KÂ°%M#%Â°
 ââââ oââââo #5M% 
 ââ#ââââââââââ#0&amp; 
âââM%ââââââââââââ 
 ââââââââââââââââ 
  ââââââââââââââ  
</a></pre>

        </div>
    </div>
    <div class="wrapper">
    <div class="search">
        <input class="search-bar" value="" placeholder="Search">
        <span class="search-close">Ã</span>
        <span class="nocss">Search requires Javascript</span>
        <a class="search-feed-container" href="feed.xml"></a>
        <div class="search-results">
        </div>
    </div>
</div>

    <div class="nav wrapper">
    <div class="nocss nocss-margin">&nbsp;</div>

        <a class="" href="https://glow.li/"><span class="nocss"> Ã </span>All Posts</a>
    <a class="" href="https://glow.li/tags/technology/"><span class="nocss"> Ã </span>Technology</a>
    <a class="" href="https://glow.li/tags/photography/"><span class="nocss"> Ã </span>Photography</a>
    <a class="" href="https://glow.li/tags/short/"><span class="nocss"> Ã </span>Short</a>
    <span class="nav-separator">|</span>
    <a class="" href="https://glow.li/about/"><span class="nocss"> Ã </span>About</a>
    <a class="" href="https://glow.li/feeds/"><span class="nocss"> Ã </span>Feeds</a>
        <div class="nocss nocss-margin">&nbsp;</div>

</div>

</div>
<div class="nocss nocss-margin">&nbsp;</div>

<div class="nocss nocss-line">
    -----------------------------------------------------------------------
<div class="nocss nocss-margin">&nbsp;</div>

</div>


    <div class="page-content">
            <div class="articlewrapper wrapper">
        <div class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <div class="post-header">
    <div class="nocss nocss-margin">&nbsp;</div>

    <div class="post-meta">
        <span class="post-category">
            <a data-tag="Photography"  href="https://glow.li/tags/photography">Photography</a>
            â¢
        </span>
        <time datetime="2019-03-23" itemprop="datePublished">
            <a href="https://glow.li/photography/2019/3/23/hibernating-bear/">
                2019-03-23
            </a>
        </time>
                    â¢
            <span class="pinnedindicator"> Pinned Post</span>
                        <span class="avatar">
    <a href="https://glow.li/about" title="glow"><img src="https://glow.li/media/images/thumb/Glow_2019.jpg" alt="Avatar of glow"></a>
            <div class="avatar-circles avatar-circles-1"></div>
            <div class="avatar-circles avatar-circles-2"></div>
            <div class="avatar-circles avatar-circles-3"></div>
    </span>

    </div>
        <div class="title">
        <h1>
            <span class="nocss nocss-indent">&nbsp;&nbsp;</span>

            <a href="https://glow.li/photography/2019/3/23/hibernating-bear/">
                Time lapse of a hibernating bear
            </a>
        </h1>
    </div>
    </div>

    <div class="post-content" itemprop="articleBody">
        <video controls>        <source src="https://glow.li/media/videos/bear-hibernation-time-lapse.mp4" type="video/mp4"></source>        Click to view the video.        </video>
<p><a href="https://www.tierpark-bern.ch">Bear Park (BÃ¤renpark) Bern</a> has set up a <a href="https://www.tierpark-bern.ch/index-de.php?frameset=222">Webcam</a> in one of the winter dens of one of their bears, <a href="https://www.tierpark-bern.ch/index-de.php?frameset=261">BjÃ¶rk</a>.</p>
<p>This webcam is just a <a href="https://www.tierpark-bern.ch/images/baerenpark3_latest.jpg">static image</a> that changes every half minute or so. When I discovered this sometimes in January I started saving that image every 30 seconds and have been doing that for 2 months now. I have over 182'000 snapshots of that camera (over 5.4 GB). I compiled them into this video. Using <a href="https://sunrise-sunset.org/">sunrise-sunset.org</a> I figured at which times it is dark, so I removed all these photos.</p>
<p>Their hibernation period has now ended and they're outside more often.</p>
<p><a href="https://glow.li/media/images/big/bÃ¤renpark-bÃ¤r.jpg"><img src="https://glow.li/media/images/bÃ¤renpark-bÃ¤r.jpg" alt="Bear sleeping in the sun" /></a></p>
<p>This is the script I used to compile the video:</p>
<pre><code>#!/bin/bash
set -e
cd ~/drive/bear-webcam
i=0
rm -f output/input.txt
mkdir -p output/
dates=`find -name 'baerenpark*' -type f -printf "%TY-%Tm-%Td\n" | sort | uniq`
for day in $dates;do
    out="bear-$day.mp4"
    echo "seeing if $out needs updating"
    sun=`curl -s "https://api.sunrise-sunset.org/json?lat=46.948&amp;lng=7.459&amp;formatted=0&amp;date=$day"`
    sunrise=`echo "$sun"|jq -r .results.civil_twilight_begin`
    sunset=`echo "$sun"|jq -r .results.civil_twilight_end`
    files=`find -name 'baerenpark*' -type f -newermt "$sunrise" ! -newermt "$sunset"|sort -V`
    if [ -e "output/$out" ];then
        for f in $files;do
            if [ "$f" -nt "output/$out" ];then
                rm "output/$out"
                break
            fi
        done
    fi
    if [ ! -e "output/$out" ];then
        cat $files | ffmpeg -f image2pipe -vcodec mjpeg -i - -c:v libx264 -r 30 -pix_fmt yuv420p output/$out
    fi
    echo "file '$out'" &gt;&gt; output/input.txt
done
rm -f output/bear.mp4
ffmpeg -f concat -i output/input.txt -c copy output/bear.mp4</code></pre>
    </div>
    <footer class="post-footer">
    <div class="post-tags">
    <a class="tag " data-tag="Photography" href="https://glow.li/tags/photography">#Photography</a> <a class="tag " data-tag="Video" href="https://glow.li/tags/video">#Video</a> <a class="tag " data-tag="Bears" href="https://glow.li/tags/bears">#Bears</a> <a class="tag " data-tag="Technology" href="https://glow.li/tags/technology">#Technology</a> </div>

</footer>
<!--Filename: 'hibernating-bear.md'-->

    <nav class="post-navigation">
    <hr>
            <a class="post-previous" href="https://glow.li/technology/2018/12/28/fantasymap/" title="Drawing maps using a text editor">Previous &gt;&gt;</a>
    </nav>

    <div class="nocss nocss-margin">&nbsp;</div>

</div>


    </div>

    </div>
</div>
<div class="nocss nocss-margin">&nbsp;</div>

<div class="nocss nocss-line">
    -----------------------------------------------------------------------
<div class="nocss nocss-margin">&nbsp;</div>

</div>

<div class="site-footer">
    <div class="nocss nocss-margin">&nbsp;</div>

    <div class="wrapper">
        <div class="blurb">
            <p>A blog by <a href="about/">glow</a>.</p>
        </div>
        <span class="madewith"><span class="charfont-tinier"><span class="charfontM">M</span><span class="charfontA">a</span><span class="charfontD">d</span><span class="charfontE">e</span><span class="charfontSP"> </span><span class="charfontO">o</span><span class="charfontN">n</span><span class="charfontSP"> </span></span><a href="//termux.com"><span class="charfont-tinier"><span class="charfontT">T</span><span class="charfontE">e</span><span class="charfontR">r</span><span class="charfontM">m</span><span class="charfontU">u</span><span class="charfontX">x</span></span></a><span class="charfont-tinier"><span class="charfontdot">.</span></span></span>
    </div>
    <div class="nocss nocss-margin">&nbsp;</div>

</div>


                    <script src="https://glow.li/min/glow.li.min.js?ea497" async></script>
        
    </body>
</html>



#####EOF#####


