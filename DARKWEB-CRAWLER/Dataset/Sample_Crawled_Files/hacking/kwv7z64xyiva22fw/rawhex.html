<!DOCTYPE html>
<html lang="en-gb">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Raw Hex</title>
  <meta name="author" content="" />

  
  <meta name="keywords" content="devows, hugo, go">	
  

  
  <meta name="description" content="Site template made by devcows using hugo">	
  

  <meta name="generator" content="Hugo 0.52" />

  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="/css/animate.css" rel="stylesheet">

  
  
    <link href="/css/style.red.css" rel="stylesheet" id="theme-stylesheet">
  


  
  <link href="/css/custom.css" rel="stylesheet">

  
  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />
  

  <link href="/css/owl.carousel.css" rel="stylesheet">
  <link href="/css/owl.theme.css" rel="stylesheet">

  <link rel="alternate" href="https://www.rawhex.com/index.xml" type="application/rss+xml" title="Raw Hex">

  
<link rel="alternate" type="application/rss+xml" href="https://www.rawhex.com/index.xml" title="Raw Hex" />

  <meta property="og:title" content="Raw Hex" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="//" />
  <meta name="og:image" content="https://www.rawhex.com/img/logo.png"/>



</head>


  <body>

    <div id="all">

        <header>

          


          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">

                <div class="navbar-buttons">
                <a class="navbar-brand home" href="https://www.rawhex.com/">
                    <img src="https://www.rawhex.com/img/logo.png" alt="Raw Hex logo" class="hidden-xs hidden-sm">
                    <img src="https://www.rawhex.com/img/logo.png" alt="Raw Hex logo" class="visible-xs visible-sm">
                    <span class="sr-only">Raw Hex - go to homepage</span>
                </a>
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">

                <ul class="nav navbar-nav navbar-left">
                  
                  <li class="dropdown">
                    
                    <a href="/about/">About</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/blog/">Blog</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/products/hidiot/">HIDIOT</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/services/">Services</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="https://www.tindie.com/stores/RawHex/">Tindie Store</a>
                    
                  </li>
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        


<section>
    <div class="home-carousel">
        <div class="dark-mask"></div>
        <div class="container">
            <div class="homepage owl-carousel">
                
                <div class="item">
                    <div class="row">
                        <div class="col-sm-5 right">
                            <h1>The HIDIOT</h1>
                            <p>Endless exploring. Endless fun.</p> <p><a href='/products/hidiot/' style='color: #8f8'>Get Started</a>.</p>

                        </div>
                        <div class="col-sm-7">
                            <a href="/products/hidiot/"><img class="img-responsive" src="img/carousel/hidiot-transparent.png" alt=""></a>
                        </div>
                    </div>
                </div>
                
                <div class="item">
                    <div class="row">
                        <div class="col-sm-5 right">
                            <h1>Professional Services</h1>
                            <p>Security Testing. Hardware Design. Prototyping and Review.</p>><p><a href='/services/' style='color: #8f8;'>Find out more</a>.
                        </div>
                        <div class="col-sm-7">
                            <a href="/services/"><img class="img-responsive" src="img/carousel/profserv.jpg" alt=""></a>
                        </div>
                    </div>
                </div>
                
                <div class="item">
                    <div class="row">
                        <div class="col-sm-5 right">
                            <h1>Custom Badges</h1>
                            <p>Read the <a href='/blog/2019/01/03/the_soul_of_a_new_machine/' style='color: #8f8'>BSides Lisbon</a> badge story.</p>

                        </div>
                        <div class="col-sm-7">
                            <a href="/blog/2019/01/03/the_soul_of_a_new_machine/"><img class="img-responsive" src="img/carousel/bsideslisbon-badge.png" alt=""></a>
                        </div>
                    </div>
                </div>
                
            </div>
            
        </div>
    </div>
</section>





        

<section class="bar background-white no-mb">
    <div class="container">

        <div class="col-md-12">
            <div class="heading text-center">
                <h2>Recent Posts</h2>
            </div>

            <p class="lead">
              
            </p>

            

            <div class="row">

                
                
                <div class="col-md-3 col-sm-6">
                    <div class="box-image-text blog">
                        <div class="top">
                            <div class="image" style="overflow:hidden">
                                
                                <img src="https://www.rawhex.com/img/lisbon-training.jpg" class="img-responsive" alt="" >
                                
                            </div>
                            <div class="bg"></div>
                            <div class="text">
                                <p class="buttons">
                                    <a href="https://www.rawhex.com/blog/2019/01/03/the_soul_of_a_new_machine/" class="btn btn-template-transparent-primary"><i class="fa fa-link"></i> Read more</a>
                                </p>
                            </div>
                        </div>

                        <div class="content">
                            <h4><a href="https://www.rawhex.com/blog/2019/01/03/the_soul_of_a_new_machine/">The Soul of a New Machine: The BSides Lisbon Badge Story</a></h4>
                            <p class="author-category">
                            
                            on January 3, 2019
                            </p>
                            <p class="intro">When an attendee builds one of our badges, they&rsquo;ve usually learned a whole load of new skills in the process. They&rsquo;ll have learned how to solder, about the various components on the board and they have a personal stake in the badge. For many people a self-built badge is a piece of personal pride and many of the badges we&rsquo;ve designed take pride of place back at the office.</p>
                            <p class="read-more">
                              <a href="https://www.rawhex.com/blog/2019/01/03/the_soul_of_a_new_machine/" class="btn btn-template-main">Continue reading</a>
                            </p>
                        </div>
                    </div>
                    

                </div>
                
                <div class="col-md-3 col-sm-6">
                    <div class="box-image-text blog">
                        <div class="top">
                            <div class="image" style="overflow:hidden">
                                
                                <img src="https://www.rawhex.com/img/CM-EN-8155_1024x1024.jpg" class="img-responsive" alt="" >
                                
                            </div>
                            <div class="bg"></div>
                            <div class="text">
                                <p class="buttons">
                                    <a href="https://www.rawhex.com/blog/2017/12/12/a_very_hacky_christmas_tree_part_2/" class="btn btn-template-transparent-primary"><i class="fa fa-link"></i> Read more</a>
                                </p>
                            </div>
                        </div>

                        <div class="content">
                            <h4><a href="https://www.rawhex.com/blog/2017/12/12/a_very_hacky_christmas_tree_part_2/">A Very Hacky Christmas Tree: Part II</a></h4>
                            <p class="author-category">
                            
                            on December 12, 2017
                            </p>
                            <p class="intro">Last week we built a set of beautiful Christmas tree lights. You can reprogram, and reuse these all year round. But what&rsquo;s cooler than beautiful Christmas tree lights? How about Christmas tree lights that change based on what&rsquo;s happening around the tree? Adding light sensors to your tree lights should take between half an hour and an hour from start to finish.
We put together a HIDIOT photoresistor tutorial a while back.</p>
                            <p class="read-more">
                              <a href="https://www.rawhex.com/blog/2017/12/12/a_very_hacky_christmas_tree_part_2/" class="btn btn-template-main">Continue reading</a>
                            </p>
                        </div>
                    </div>
                    

                </div>
                
                <div class="col-md-3 col-sm-6">
                    <div class="box-image-text blog">
                        <div class="top">
                            <div class="image" style="overflow:hidden">
                                
                                <img src="https://www.rawhex.com/img/FreshDesignElements-4291_1024x1024.jpg" class="img-responsive" alt="" >
                                
                            </div>
                            <div class="bg"></div>
                            <div class="text">
                                <p class="buttons">
                                    <a href="https://www.rawhex.com/blog/2017/12/08/a_very_hacky_christmas_tree_part_1/" class="btn btn-template-transparent-primary"><i class="fa fa-link"></i> Read more</a>
                                </p>
                            </div>
                        </div>

                        <div class="content">
                            <h4><a href="https://www.rawhex.com/blog/2017/12/08/a_very_hacky_christmas_tree_part_1/">A Very Hacky Christmas Tree: Part I</a></h4>
                            <p class="author-category">
                            
                            on December 8, 2017
                            </p>
                            <p class="intro">This year we made our own Christmas tree lights. They&rsquo;re really easy to build, and can be reprogrammed to be used all year round. Read on to find out how to make your own!
When finished, you should have your own programmable Christmas tree lights! Then you can take it further and make it your own! Our Christmas tree lights are different to the ones you get in the shop.</p>
                            <p class="read-more">
                              <a href="https://www.rawhex.com/blog/2017/12/08/a_very_hacky_christmas_tree_part_1/" class="btn btn-template-main">Continue reading</a>
                            </p>
                        </div>
                    </div>
                    

                </div>
                
                <div class="col-md-3 col-sm-6">
                    <div class="box-image-text blog">
                        <div class="top">
                            <div class="image" style="overflow:hidden">
                                
                                <img src="https://www.rawhex.com/img/Pumpkin_Patch_1024x1024.jpg" class="img-responsive" alt="" >
                                
                            </div>
                            <div class="bg"></div>
                            <div class="text">
                                <p class="buttons">
                                    <a href="https://www.rawhex.com/blog/2017/10/30/ghost_hunting_with_the_hidiot/" class="btn btn-template-transparent-primary"><i class="fa fa-link"></i> Read more</a>
                                </p>
                            </div>
                        </div>

                        <div class="content">
                            <h4><a href="https://www.rawhex.com/blog/2017/10/30/ghost_hunting_with_the_hidiot/">Ghost Hunting With The HIDIOT</a></h4>
                            <p class="author-category">
                            
                            on October 30, 2017
                            </p>
                            <p class="intro">Ghost hunters use EMF meters as an essential tool. According to the Anomolies Research Society, indicators of paranormal activity include fluctuations in EMF detection readings and background readings that drop or spike for no reason, with no explainable cause.
What we&rsquo;ll build We&rsquo;re going to build an EMF detector, so we&rsquo;re building our own analogue sensor from scratch. We&rsquo;ll also look at how we can use Digital Signal Processing (DSP) techniques to improve our detector.</p>
                            <p class="read-more">
                              <a href="https://www.rawhex.com/blog/2017/10/30/ghost_hunting_with_the_hidiot/" class="btn btn-template-main">Continue reading</a>
                            </p>
                        </div>
                    </div>
                    

                </div>
                

            </div>
            

            

        </div>
    </div>
    
</section>





        




        




        <footer id="footer">
    <div class="container">

        
        <div class="col-md-4 col-sm-6">
            <h4>Join our Newsletter</h4>
            <p>Get our latest content in your mailbox. We won't send you spam. Unsubscribe any time.<p>
		<script async data-uid="f8dc3b5954" src="https://f.convertkit.com/f8dc3b5954/4bc38fd625.js"></script>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

             
            <h4>Recent posts</h4>
	
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/lisbon-training.jpg" alt="The Soul of a New Machine: The BSides Lisbon Badge Story">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2019/01/03/the_soul_of_a_new_machine/">The Soul of a New Machine: The BSides Lisbon Badge Story</a></h5>
		</div>
	  </div>



		
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/CM-EN-8155_1024x1024.jpg" alt="A Very Hacky Christmas Tree: Part II">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2017/12/12/a_very_hacky_christmas_tree_part_2/">A Very Hacky Christmas Tree: Part II</a></h5>
		</div>
	  </div>



		
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/FreshDesignElements-4291_1024x1024.jpg" alt="A Very Hacky Christmas Tree: Part I">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2017/12/08/a_very_hacky_christmas_tree_part_1/">A Very Hacky Christmas Tree: Part I</a></h5>
		</div>
	  </div>



		

            <hr class="hidden-md hidden-lg">
             

        </div>
        

        
        <div class="col-md-4 col-sm-6">

          <h4>Contact</h4>

            <p>Got questions? <a href="mailto:rawhex@rawhex.com">Email us</a> for answers.</p>
        <p><strong>Raw Hex Ltd.</strong>
        <br>c/o AML Benson
        <br>34 Westway
        <br>Caterham on The Hill
        <br>CR3 5TP
        <br>
      </p>
      


            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2014 - 2019, Raw Hex Ltd; all rights reserved. Company registered in England, no. 09384924.</p>
            
        </div>
    </div>
</div>





    </div>
    

    
<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?key=AIzaSyCFhtWLJcE30xOAjcbSFi-0fnoVmQZPb1Y&v=3.exp"></script>

<script src="https://www.rawhex.com/js/hpneo.gmaps.js"></script>
<script src="https://www.rawhex.com/js/gmaps.init.js"></script>
<script src="https://www.rawhex.com/js/front.js"></script>


<script src="https://www.rawhex.com/js/owl.carousel.min.js"></script>


  </body>
</html>



#####EOF#####


<!DOCTYPE html>
<html lang="en-gb">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>A Very Hacky Christmas Tree: Part I</title>
  <meta name="author" content="" />

  
  <meta name="keywords" content="devows, hugo, go">	
  

  
  <meta name="description" content="Site template made by devcows using hugo">	
  

  <meta name="generator" content="Hugo 0.52" />

  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="/css/animate.css" rel="stylesheet">

  
  
    <link href="/css/style.red.css" rel="stylesheet" id="theme-stylesheet">
  


  
  <link href="/css/custom.css" rel="stylesheet">

  
  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />
  

  <link href="/css/owl.carousel.css" rel="stylesheet">
  <link href="/css/owl.theme.css" rel="stylesheet">

  <link rel="alternate" href="https://www.rawhex.com/index.xml" type="application/rss+xml" title="Raw Hex">

  

  <meta property="og:title" content="A Very Hacky Christmas Tree: Part I" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/blog/2017/12/08/a_very_hacky_christmas_tree_part_1//" />
  <meta name="og:image" content="https://www.rawhex.com/img/FreshDesignElements-4291_1024x1024.jpg"/>



</head>


  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">

                <div class="navbar-buttons">
                <a class="navbar-brand home" href="https://www.rawhex.com/">
                    <img src="https://www.rawhex.com/img/logo.png" alt="A Very Hacky Christmas Tree: Part I logo" class="hidden-xs hidden-sm">
                    <img src="https://www.rawhex.com/img/logo.png" alt="A Very Hacky Christmas Tree: Part I logo" class="visible-xs visible-sm">
                    <span class="sr-only">A Very Hacky Christmas Tree: Part I - go to homepage</span>
                </a>
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">

                <ul class="nav navbar-nav navbar-left">
                  
                  <li class="dropdown">
                    
                    <a href="/about/">About</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/blog/">Blog</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/products/hidiot/">HIDIOT</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/services/">Services</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="https://www.tindie.com/stores/RawHex/">Tindie Store</a>
                    
                  </li>
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>A Very Hacky Christmas Tree: Part I</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        <p class="text-muted text-uppercase mb-small text-right">By <a href="/authors/steve-lord/">Steve Lord</a>                                           
                                          
                                          in <a href="https://www.rawhex.com/categories/electronics">Electronics</a>
                                          
                                          | <i class="fa fa-calendar-o"></i> December 8, 2017</p>

                        <div id="post-content">
			  
			  
				<p><img class="img-responsive center-block" src="https://www.rawhex.com/img/FreshDesignElements-4291_1024x1024.jpg" alt="A Very Hacky Christmas Tree: Part I"></p>
			  
                          

<p>This year we made our own Christmas tree lights. They&rsquo;re really easy to build, and can be reprogrammed to be used all year round. Read on to find out how to make your own!</p>

<p>When finished, you should have your own programmable Christmas tree lights! Then you can take it further and make it your own! Our Christmas tree lights are different to the ones you get in the shop. Here&rsquo;s a few things that make them stand out.</p>

<ul>
<li>You can reprogram the lights to do anything you want.</li>
<li>You can add sensors to make them react to the world. Science lights!</li>
<li>They&rsquo;re great for general lighting or kids rooms after the holidays - just reprogram them for regular soft lighting!</li>
<li>They last for ages, and don&rsquo;t die when a single light goes out.</li>
<li>Best of all, because you build them yourself, you know exactly how they work, and they work exactly how you want them to.</li>
</ul>

<h2 id="what-you-ll-need">What You&rsquo;ll Need</h2>

<p>To build your own christmas tree lights, all you need are two things:</p>

<ul>
<li>A HIDIOT</li>
<li>A pack of WS2811 RGB String Lights, like <a href="http://amzn.to/2j1sVY2">these</a>.</li>
</ul>

<p>If you want to order components for part 2 of this series, where we add sensors, you&rsquo;ll need some form of i2c or ideally 1-wire sensor, such as a photocell and resistor pair or a TMP36 temperature sensor.</p>

<p>Normally you&rsquo;d decorate your own tree before Christmas but this is great to do with kids around Christmas in the run up to New Year. You can pick up a gift pack from our store, and order all the parts. Even if you build the lights after Christmas, they can go up anywhere in the home, even after the rest of the decorations go down.</p>

<h2 id="wiring-up-your-lights">Wiring Up Your Lights</h2>

<p>Firstly, build your HIDIOT as normal following our <a href="https://docs.hidiot.com/building_a_hidiot/index/">easy step-by-step instructions</a>. When you&rsquo;re ready to start with the lights, there are a few things about WS2811 RGB lights that you need to know.</p>

<p>The WS2811 is a digital RGB LED capable of displaying millions of different colours. The LED uses a positive and negative terminal, and a separate data line to receive commands to turn the LED on, change colour etc. The data line flows in one direction only. That means that you must connect your HIDIOT to the data in line, and not your data out.</p>

<p><img src="/img/data-out-in_large.jpg" alt="Finding the Data Out pin" /></p>

<p>Normally, there&rsquo;s an arrow on the LEDs pointing down, this is the data out side. The wires connected on this side of the LED are heading out of one LED and into the next one. The wires connected on the other side are connecting to the in side. If your lights have separate power lines, this may also indicate which end is the data in side as power is normally (but not always!) connected to the data in side first. If in doubt, try testing your connection with jumper cables instead of soldering them in first.</p>

<p>Normally people put a large capacitor between the voltage and ground lines to protect against power spikes. WS2811 lights hate sudden power drops. In our experiments we&rsquo;ve found the capacitor pair in the HIDIOT seems to be good enough for the lights we have, but if you&rsquo;re not sure, you can always put a 1000uF capacitor across the positive and negative terminals that connect your HIDIOT to the lights.</p>

<p>The WS2811 also hates surges. If you have a sudden surge, this can cause the first LED to burn out. Our LED strings have 50 lights. For us, having 49 working lights isn&rsquo;t the end of the world. Again, in our tests everything worked fine using PB1, which has a 330 ohm resistor. Just bear in mind that you can either use a small delay at startup or a 1000 ohm resistor between your data pin and the HIDIOT if you feel you might need it.</p>

<p>Finally, this is definitely an indoor project. Your lights might come with an outdoor rating, but your HIDIOT does not. It doesn&rsquo;t like the cold or wet and could lead to magic smoke or worse if exposed to the elements. As cool as it sounds, magic smoke is not good. Keep it indoors.</p>

<p>With that out of the way, lets wire things up! We&rsquo;re going to use PB1 for our data wire and the voltage rail for VCC and GND.</p>

<p><img src="/img/xmas-tree-1-pinout.jpg" alt="HIDIOT Pinout" /></p>

<p>If you hold your HIDIOT the same way as in the picture above you should see how we can solder our 3-pin connector to the HIDIOT. At column H and row PB1 you&rsquo;ll see a green circle. This is where we&rsquo;ll solder the Data pin for the connector.</p>

<p>If your lights are like the ones we linked earlier, you should have two sets of 3 pin connectors. These are for connecting the lights in a daisy chain. Assuming you&rsquo;re not chaining multiple lights together, you can snip one of the connectors off and solder it to the HIDIOT. Make sure it&rsquo;s the connector on the data out side of the string!</p>

<p>If you are going to daisy chain lights, you can snip the connector off the data in side, and solder the data line directly to the HIDIOT. You&rsquo;ll need to power the lights separately to the HIDIOT, and think carefully about your code&rsquo;s RAM usage before you go ahead, but it should be possible.</p>

<p>At the top of Column M and row P3 there&rsquo;s a brown circle. This is where we&rsquo;ll solder the connector&rsquo;s ground pin.</p>

<p>At the top of Column N and row P3 is a red circle. This is where we&rsquo;ll solder the connector&rsquo;s VCC, or positive pin.</p>

<p>WS2811 lights can be really, really, REALLY bright. If you want super-bright LEDs, we&rsquo;d recommend using your own 5v power source for the LEDs instead of the HIDIOT. The HIDIOT just can&rsquo;t provide the current for all the lights to come on at full power for a sustained period and you run the risk of damaging your lights or your HIDIOT if you try it. If you&rsquo;re going to power your lights externally, we recommend using an appropriate power regulator and the capacitor and resistor discussed earlier.</p>

<p>Now you should have a connector soldered to your HIDIOT, and when you connect it to your LEDs, the VCC, Data and GND should be connected to VCC, PB1 and GND on your HIDIOT. Great, it&rsquo;s time to start programming!</p>

<h2 id="programming-your-lights">Programming Your Lights</h2>

<p>There are two main libraries we can use, the AdaFruit Neopixel Library and FastLED. Both are great libraries and there are others too if you look online. Each have their pros and cons.</p>

<p>Some Digispark board definitions bundle the Adafruit_Neopixel library as part of the installation. This is a slightly optimized version of the library. On other versions of the Digispark board definitions you&rsquo;ll need to add the Adafruit Neopixel Library through the Library Manager (Sketch -&gt; Include Library -&gt; Manage Libraries) in the Arduino IDE. The FastLED library will need to be installed via the Library Manager.</p>

<p>The Adafruit library is great, but it&rsquo;s a little slow when you start using a lot of LEDs, and it uses a lot of RAM. The HIDIOT has 512 bytes of RAM, which is fine for basic lights, but a 3 bytes of RAM to store red green and blue values per LED, a 50 RGB LED means our code uses 150 bytes of RAM. Fine for now, but when we add sensors this could be a problem.</p>

<p>In contrast, the FastLED library has special optimizations to reduce memory footprint. It&rsquo;s very powerful, but it&rsquo;s a bit more complicated. Both are great libraries, but we&rsquo;ll use FastLED for now.</p>

<p>The code we&rsquo;ll run is shown below. Install the FastLED library, copy and paste this into the Arduino IDE and it should work first time. The code is based on one of the FastLED examples and we&rsquo;ll use this as our base for adding other features later.</p>

<script type="application/javascript" src="//gist.github.com/stevelord/c7291ae75f8049c94c683000c81b984b.js"></script>

<p>Connect your lights to the HIDIOT, hit the upload button in the Arduino IDE and plug your HIDIOT into a USB hub. If all goes well, you should see a nice soothing pattern in a few seconds. Put your lights up on the tree or around the home, and don&rsquo;t forget to share some videos of your new creation with the #HIDIOT hashtag!</p>

<p>If things go wrong, try to work backwards from hardware problems before looking at software. Make sure your 3-pin connectors are correctly connected and that your data line is the line going in and not out. If you&rsquo;re using PB1 you should see LED1 flicker as the signals are sent out onto the data line. If you get really stuck, post about your problem on the community reddit and we&rsquo;ll do our best to help - just remember that we&rsquo;re closed over christmas, but either Steve and/or Aidan will check in from time to time.</p>

<h2 id="decorating-your-tree">Decorating Your Tree</h2>

<p>You&rsquo;re all set to decorate your tree. It&rsquo;s exactly the same as if you use normal lights, just a few points to bear in mind:</p>

<p>If you haven&rsquo;t created a case for your HIDIOT, make sure it&rsquo;s not touching anything conductive. It&rsquo;s normally ok to hang your HIDIOT off the connector but check everything first and make sure it can&rsquo;t be reached or tasted by inquisitive toddlers or pets.</p>

<p>You might find the lights don&rsquo;t come on at first, or that the lights come on but don&rsquo;t change colour. This is almost always due to USB power supplies not providing enough current. Try a different USB power connector or cable.</p>

<h2 id="going-further">Going Further</h2>

<p>In our next post we&rsquo;ll add Bluetooth support so you can control your lights from either a mobile phone or computer. But for now lets look at what else you can do.</p>

<p>The code you just used contains a function called ChangePalettePeriodically(). This function isn&rsquo;t called but is left in to let you explore other built-in palettes so you can make the lights cycle through different effects. FastLED is amazing for this and you can create your own palettes too. You should be able to modify your loop() function to have it switch through palettes, or try different ones like OceanColors_p or PartyColors_p.</p>

<p>At the docs site we walk you through how to use the two tact switches on the HIDIOT. Can you change the code to make the lights cycle faster and slower depending on which button you hold? How about lighter and darker?</p>

<p>Have a look at the Adafruit neopixel demos. There&rsquo;s some really beautiful effects in there. Have a play around with different effects and animations to see if there&rsquo;s anything you like!</p>

                        </div>
                        
                <hr/>
<section class="bar no-mb color-white padding-big text-md-center bg-primary">
        <div class="container">
          <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-10">
              <h2 class="text-uppercase">Never miss a post</h2>
              <p class="lead mb-small">Like what you see?.</p>
              <p>Get our latest electronics and security content in your mailbox. We won't send you spam. Unsubscribe any time.</p>
		    <script async data-uid="f8dc3b5954" src="https://f.convertkit.com/f8dc3b5954/4bc38fd625.js"></script>
            </div>
          </div>
        </div>
</section>


             <div id="comments">
                                <div class="row comment">
                  <div class="col-sm-6 col-md-4 text-center-xs">
                    
                    
                  </div>
                </div>


              </div>

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Search</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" class="form-control" placeholder="Search">
                <input type="hidden" name="sitesearch" value="https://www.rawhex.com/">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            <li><a href="https://www.rawhex.com/categories/badges">badges (1)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/bsides">bsides (1)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/careers">careers (6)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/electronics">electronics (7)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/hidiot">hidiot (6)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/pentesting">pentesting (9)</a>
            </li>
            
        </ul>
    </div>
</div>








<div class="panel sidebar-menu">
    <div class="panel-heading">
      <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            <li><a href="https://www.rawhex.com/tags/backdoors"><i class="fa fa-tags"></i> backdoors</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/badges"><i class="fa fa-tags"></i> badges</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/blinkenlights"><i class="fa fa-tags"></i> blinkenlights</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/bsides"><i class="fa fa-tags"></i> bsides</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/bsideslisbon"><i class="fa fa-tags"></i> bsideslisbon</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/careers"><i class="fa fa-tags"></i> careers</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/christmas"><i class="fa fa-tags"></i> christmas</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/cv"><i class="fa fa-tags"></i> cv</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/electronics"><i class="fa fa-tags"></i> electronics</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/hacking"><i class="fa fa-tags"></i> hacking</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/halloween"><i class="fa fa-tags"></i> halloween</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/hidiot"><i class="fa fa-tags"></i> hidiot</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/holidays"><i class="fa fa-tags"></i> holidays</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/interviews"><i class="fa fa-tags"></i> interviews</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/iot"><i class="fa fa-tags"></i> iot</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/jobs"><i class="fa fa-tags"></i> jobs</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/mistakes"><i class="fa fa-tags"></i> mistakes</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/pentesting"><i class="fa fa-tags"></i> pentesting</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/scanning"><i class="fa fa-tags"></i> scanning</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/sensors"><i class="fa fa-tags"></i> sensors</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/skills"><i class="fa fa-tags"></i> skills</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/talks"><i class="fa fa-tags"></i> talks</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/tcpip"><i class="fa fa-tags"></i> tcpip</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/traceroute"><i class="fa fa-tags"></i> traceroute</a>
            </li>
            
        </ul>
    </div>
</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
    <div class="container">

        
        <div class="col-md-4 col-sm-6">
            <h4>Join our Newsletter</h4>
            <p>Get our latest content in your mailbox. We won't send you spam. Unsubscribe any time.<p>
		<script async data-uid="f8dc3b5954" src="https://f.convertkit.com/f8dc3b5954/4bc38fd625.js"></script>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

             
            <h4>Recent posts</h4>
	
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/lisbon-training.jpg" alt="The Soul of a New Machine: The BSides Lisbon Badge Story">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2019/01/03/the_soul_of_a_new_machine/">The Soul of a New Machine: The BSides Lisbon Badge Story</a></h5>
		</div>
	  </div>



		
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/CM-EN-8155_1024x1024.jpg" alt="A Very Hacky Christmas Tree: Part II">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2017/12/12/a_very_hacky_christmas_tree_part_2/">A Very Hacky Christmas Tree: Part II</a></h5>
		</div>
	  </div>



		
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/FreshDesignElements-4291_1024x1024.jpg" alt="A Very Hacky Christmas Tree: Part I">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2017/12/08/a_very_hacky_christmas_tree_part_1/">A Very Hacky Christmas Tree: Part I</a></h5>
		</div>
	  </div>



		

            <hr class="hidden-md hidden-lg">
             

        </div>
        

        
        <div class="col-md-4 col-sm-6">

          <h4>Contact</h4>

            <p>Got questions? <a href="mailto:rawhex@rawhex.com">Email us</a> for answers.</p>
        <p><strong>Raw Hex Ltd.</strong>
        <br>c/o AML Benson
        <br>34 Westway
        <br>Caterham on The Hill
        <br>CR3 5TP
        <br>
      </p>
      


            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2014 - 2019, Raw Hex Ltd; all rights reserved. Company registered in England, no. 09384924.</p>
            
        </div>
    </div>
</div>





    </div>
    

    
<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?key=AIzaSyCFhtWLJcE30xOAjcbSFi-0fnoVmQZPb1Y&v=3.exp"></script>

<script src="https://www.rawhex.com/js/hpneo.gmaps.js"></script>
<script src="https://www.rawhex.com/js/gmaps.init.js"></script>
<script src="https://www.rawhex.com/js/front.js"></script>


<script src="https://www.rawhex.com/js/owl.carousel.min.js"></script>


  </body>
</html>



#####EOF#####


<!DOCTYPE html>
<html lang="en-gb">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>The Soul of a New Machine: The BSides Lisbon Badge Story</title>
  <meta name="author" content="" />

  
  <meta name="keywords" content="devows, hugo, go">	
  

  
  <meta name="description" content="We&#39;re not really in favour of pre-built shiny throwaway electronic conference badges. As clever as such badges often are, they often end up in drawers or landfill and are made with rare-earth metals of often unsustainable origin. Getting attendees to build badges reduces the unnecessary use of rare-earth metal-based components as not everyone will build one.">
  

  <meta name="generator" content="Hugo 0.52" />

  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="/css/animate.css" rel="stylesheet">

  
  
    <link href="/css/style.red.css" rel="stylesheet" id="theme-stylesheet">
  


  
  <link href="/css/custom.css" rel="stylesheet">

  
  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />
  

  <link href="/css/owl.carousel.css" rel="stylesheet">
  <link href="/css/owl.theme.css" rel="stylesheet">

  <link rel="alternate" href="https://www.rawhex.com/index.xml" type="application/rss+xml" title="Raw Hex">

  

  <meta property="og:title" content="The Soul of a New Machine: The BSides Lisbon Badge Story" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/blog/2019/01/03/the_soul_of_a_new_machine//" />
  <meta name="og:image" content="https://www.rawhex.com/img/lisbon-training.jpg"/>



</head>


  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">

                <div class="navbar-buttons">
                <a class="navbar-brand home" href="https://www.rawhex.com/">
                    <img src="https://www.rawhex.com/img/logo.png" alt="The Soul of a New Machine: The BSides Lisbon Badge Story logo" class="hidden-xs hidden-sm">
                    <img src="https://www.rawhex.com/img/logo.png" alt="The Soul of a New Machine: The BSides Lisbon Badge Story logo" class="visible-xs visible-sm">
                    <span class="sr-only">The Soul of a New Machine: The BSides Lisbon Badge Story - go to homepage</span>
                </a>
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">

                <ul class="nav navbar-nav navbar-left">
                  
                  <li class="dropdown">
                    
                    <a href="/about/">About</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/blog/">Blog</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/products/hidiot/">HIDIOT</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/services/">Services</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="https://www.tindie.com/stores/RawHex/">Tindie Store</a>
                    
                  </li>
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>The Soul of a New Machine: The BSides Lisbon Badge Story</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        <p class="text-muted text-uppercase mb-small text-right">By <a href="/authors/steve-lord/">Steve Lord</a>                                           
                                          
                                          in <a href="https://www.rawhex.com/categories/electronics">Electronics</a>
                                          
                                          | <i class="fa fa-calendar-o"></i> January 3, 2019</p>

                        <div id="post-content">
			  
				<p class="text-sm">We&#39;re not really in favour of pre-built shiny throwaway electronic conference badges. As clever as such badges often are, they often end up in drawers or landfill and are made with rare-earth metals of often unsustainable origin. Getting attendees to build badges reduces the unnecessary use of rare-earth metal-based components as not everyone will build one.</p>
			  
			  
				<p><img class="img-responsive center-block" src="https://www.rawhex.com/img/lisbon-training.jpg" alt="The Soul of a New Machine: The BSides Lisbon Badge Story"></p>
			  
                          

<p>When an attendee builds one of our badges, they&rsquo;ve usually learned a whole load of new skills in the process. They&rsquo;ll have learned how to solder, about the various components on the board and they have a personal stake in the badge. For many people a self-built badge is a piece of personal pride and many of the badges we&rsquo;ve designed take pride of place back at the office.</p>

<p>
<img class="img-responsive center-block" src="/img/bsl_badges.jpg" alt="BSides Lisbon Badge Prototypes">
</p>


<p>In early 2017 Marizel and I started looking into the idea of a badge framework. As great as the HIDIOT is for beginners, taking 45 minutes to assemble at a conference is a lot to go through. While custom HIDIOT boards are competitive for fancier conference badges, they&rsquo;re expensive for events with lower budgets.</p>

<p>As we&rsquo;re doing more events, it&rsquo;s essential we have an easily expandable framework that can be used to rapidly prototype and turnaround designs at low cost to the event. We built two badge products to test out the framework. The next step is a reference badge using the framework&rsquo;s components, which we aim to have up on the Tindie store by March 2019. This reference badge showcases the different functionality available and ties into another project we hope to launch in October 2019, after a test at 44CON in September.</p>

<h3 id="the-bsides-lisbon-badge-design-concept">The BSides Lisbon badge design concept</h3>

<p>From concept to delivery, the BSides Lisbon badge in total took around 7 months. This involved 3 prototype builds, substantially less than the 44COIN (1 year and 5 prototypes). Now the hardware platform has more or less stabilised we aim to get the prototypes down to 1 iteration with a 3 month turnaround time for a basic badge. Initially Bruno from the BSides Lisbon team reached out to me. I owed BSides Lisbon a talk after ducking out due to illness the previous year, so he knew we wouldn&rsquo;t turn him down!</p>

<p>
<img class="img-responsive center-block" src="/img/lisbon_twitter_dm.png" alt="Initial April discussion">
</p>


<p>I started work on a few badge ideas. Using the framework under development, the badge needed to be:</p>

<ul>
<li>Max 15 minute build time for someone who&rsquo;s never soldered before</li>
<li>Cheap! (Under 5 Euro in quantity)</li>
<li>Have some sort of follow-on action for people to do</li>
</ul>

<p>I started looking into things that are iconically Portuguese, like the Barcelos Rooster, Cristiano Ronaldo and the Pastel de Nata. With the exception of the nata, these weren&rsquo;t really from Lisbon, and building a PCB easily identifiable as a nata (instead of a round badge) would be very difficult. In the end, we started with a copy of the BSides Lisbon logo which included the Raven, one of the symbols of Lisbon.</p>

<p>
<img class="img-responsive center-block" src="/img/bsl_logo_white.png" alt="BSides Lisbon Logo">
</p>


<p>The BSides Lisbon logo also gave us 3 starting points for LED placements: The two circles on the left and of course the Raven&rsquo;s eye. The next point of inspiration was the Portuguese flag.</p>

<p>
<img class="img-responsive center-block" src="/img/portugal_flag.png" alt="Portuguese Flag">
</p>


<p>If we map the colour from the flag over the badge, we can see that the ideal setup for our LEDs would be a green LED on the left, a yellow LED in the middle and a red LED on the right.</p>

<p>LEDs work differently to conventional electric light sources. Their colour is usually defined by the composition, and use quirks in quantum mechanics to create light at specific wavelengths. Generally, the shorter the wavelength, the more energy is needed. This has a substantial impact on options for powering the badge.</p>

<p>Because our badge was fairly small, our battery needed to be small too. In this case we opted for the CR2016, the thinner variant of the popular CR2032 coin cell battery. The CR2016 has some interesting qualities that are really useful for reducing the total amount of parts. Remember, fewer parts equals lower cost and less build time at the event.</p>

<p>Sadly, the power output of the CR2016 also introduces some constraints on the types of LED that can be used. Our normal Red LEDs are fine, but shorter wavelengths get more difficult. We went with yellow and green LEDs from Broadcom operating at 585 and 565nm wavelengths. Quick tests proved that the LEDs would work, and we quickly assembled and tested the first prototypes from China.</p>

<p>
<img class="img-responsive center-block" src="/img/bsl_pcb.jpg" alt="BSides Lisbon PCB">
</p>


<p>To save on power we&rsquo;d have the LEDs slowly fade in and out, with 2 LEDs on at any one time. This would give us a battery life of days to weeks on a single CR2016 battery depending on what else we did.</p>

<p>We then had to put development on hold while I worked on 44COIN. 44COIN uses the same fundamental architecture with 5 LEDs instead of 3. It&rsquo;s a basic LED spinner with a random number of spins, allowing it to be used as a decision-making toy.</p>

<h3 id="same-framework-different-badge">Same framework, different badge</h3>

<p>
<img class="img-responsive center-block" src="/img/44coin_proto.jpg" alt="44COIN Prototype">
</p>


<p>If you look at the 44COIN prototype you can see we use 5 red LEDs, an ATTiny85 MCU and a single tactile switch (button) to trigger the coin&rsquo;s program. 44COINs are powered up on reset, run a series of circular loops for a random amount of time and then go to sleep. This lets the 44COIN run for weeks on a single CR2016 cell battery.</p>

<p>I decided to add serial port functionality to the 44COIN, so it could be used to provide clues in the cryptocurrency heist Alternate Reality Game taking place at the event. Initially I managed to get a full 115200 baud serial port working off a 1mhz ATTiny85 powered from a coin cell, but as the cell&rsquo;s power dropped the serial port became less stable. Consequently, I settled on a slower speed for the 44COIN. As this was transmit only, this was easy to implement.</p>

<p>Once I had a stable serial port and power management, I was ready to return to the BSides Lisbon badge.</p>

<h3 id="finishing-up-the-bsides-badge">Finishing up the BSides badge</h3>

<p>
<img class="img-responsive center-block" src="/img/bsl_reverse.jpg" alt="Badge back with button">
</p>


<p>One of the lessons learned from the 44COIN was the placing of the reset button. it worked well for the 44COIN, but for the Bsides badge, having the reset button at the front of the badge would mean people would use their finger. Having it at the back meant attendees would use their thumb, which is a little more comfortable for some reason.</p>

<p>
<img class="img-responsive center-block" src="/img/bsl_shipping.jpg" alt="Final badges being shipped from China">
</p>


<p>Due to issues with customs at our end, shipping was tight but we turned up with all of the badges, and the guys in Lisbon had all of the batteries. An unexpected problem was that the CR2016 batteries used in Lisbon had a small dip in them, meaning that they didn&rsquo;t make proper contact with the PCB&rsquo;s battery pad. This was easily solved by dropping a little solder onto the pad. We also had issues with not routing a ground pin to the serial headers, making it slightly harder for people to connect USB to serial bridges. We managed to solve this at the time with bodge wires, but we&rsquo;ve already decided that future badges should have full headers.</p>

<p>
<img class="img-responsive center-block" src="/img/lisbon-training.jpg" alt="People training at BSides Lisbon">
</p>


<p>We ran a full continuous soldering workshop throughout the event, which was for the most part totally rammed, sometimes with queues 3-4 people deep in every direction. Even with a 15 minute build time, hundreds of people built their badges over the day and a half event.</p>

<p>I also did a talk on reversing approaches to microcontroller firmware. It was amazing spotting the sea of green, yellow and red lights blinking in the dark from the stage.</p>

<p>
<img class="img-responsive center-block" src="/img/bsl_modelled.jpg" alt="BSides Lisbon Badge being worn">
</p>


<p>At this point, if you&rsquo;re interested in talking to us about a custom badge for your event, I&rsquo;d suggest <a href="mailto:rawhex@rawhex.com">contacting us via email</a>. What follows is a minor dive into the software on the badge, and it involves inspecting live memory structures. We&rsquo;re going to keep working on the software for the framework, and build it into something more step-by-step for attendees over the year.</p>

<h3 id="diving-into-the-badge-s-brain">Diving into the badge&rsquo;s brain</h3>

<p>After adding a serial port to the BSides Lisbon badge design, I started working on a simple challenge based on the ancient game <a href="https://en.wikipedia.org/wiki/Nim">Nim</a>. In Nim, two players take turns to remove sticks from a pile. The person who removes the last stick loses. Because this was Lisbon, I&rsquo;d gone with a nata theme.</p>

<p>
<img class="img-responsive center-block" src="/img/bsl_nim.jpg" alt="BSides Lisbon Nim prototype">
</p>


<p>I was uncomfortable with this, as while it meant people would learn how to use a serial port to play the game, it wasn&rsquo;t really pushing them further. I wanted people to be able to turn up having never soldered, and leave having:</p>

<ul>
<li>Soldered</li>
<li>Hunted for a serial port</li>
<li>Connected and got it talking</li>
<li>Messed around inside the microcontroller</li>
</ul>

<p>While I&rsquo;d been working on the framework I&rsquo;d developed a real-time machine monitor sketch influenced by radare and various 8-bit monitors I&rsquo;d used in the past that allowed me to dump various sections of the ATTiny&rsquo;s RAM, program RAM and EEPROM while code was running. With some minor changes, I could tie my firmware analysis talk into the badge, and let people explore the very soul of this new machine, or at least it&rsquo;s brain.</p>

<p>The brain behind the badge is the ATTiny85, the same as the one used in the HIDIOT. The ATTiny85 uses what&rsquo;s called a modified Harvard architecture, in which executable code and data are kept (mostly) separate. There are 3 types of memory in the ATTiny85:</p>

<ul>
<li>512 bytes of regular RAM (data only)</li>
<li>512 bytes of EEPROM (data only)</li>
<li>8 kilobytes of flash program memory (code and data)</li>
</ul>

<p>I wanted people to be able to trigger their own light sequences, or otherwise change the way the badge works, which meant the machine monitor had to be integrated into the badge.</p>

<p>
<img class="img-responsive center-block" src="/img/avrmon_proto.jpg" alt="AVRMon prototype">
</p>


<p>When analysing firmware for Harvard architecture devices, I typically look for memory structures that point to executable code in other areas of memory. If we can overwrite the structures with <em>alternative values</em>, we can make it execute other sections of executable code to achieve different results. This is called <em>Return Oriented-Programming</em> in exploit development parlance.</p>

<p>I integrated this into the badge, using a tables of pointers for the debugger menu. I also added extra functionality to call up to 16 addresses stored in the first 32 bytes of the EEPROM. This meant that people could set their own pin values, turn lights on and off, integrate their own delays - all they had to do was pull the firmware off the badge chip, disassemble it, look for the code in the monitor and store their gadget chain in the EEPROM.</p>

<p>We already have some initial work done on taking this further, and will release an updated version with some instructions on how to (ab)use it with our reference badge released later this year.</p>

<p>The hardest part of all of this is documentation. We want events to have badges that are as well documented as the HIDIOT, for people who&rsquo;ve never soldered before, never connected to serial pins before, never exploited memory corruption vulnerabilities before. It&rsquo;s quite a task, but one we&rsquo;re looking forward to tackling.</p>

                        </div>
                        
                <hr/>
<section class="bar no-mb color-white padding-big text-md-center bg-primary">
        <div class="container">
          <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-10">
              <h2 class="text-uppercase">Never miss a post</h2>
              <p class="lead mb-small">Like what you see?.</p>
              <p>Get our latest electronics and security content in your mailbox. We won't send you spam. Unsubscribe any time.</p>
		    <script async data-uid="f8dc3b5954" src="https://f.convertkit.com/f8dc3b5954/4bc38fd625.js"></script>
            </div>
          </div>
        </div>
</section>


             <div id="comments">
                                <div class="row comment">
                  <div class="col-sm-6 col-md-4 text-center-xs">
                    
                    
                  </div>
                </div>


              </div>

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Search</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" class="form-control" placeholder="Search">
                <input type="hidden" name="sitesearch" value="https://www.rawhex.com/">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            <li><a href="https://www.rawhex.com/categories/badges">badges (1)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/bsides">bsides (1)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/careers">careers (6)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/electronics">electronics (7)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/hidiot">hidiot (6)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/pentesting">pentesting (9)</a>
            </li>
            
        </ul>
    </div>
</div>








<div class="panel sidebar-menu">
    <div class="panel-heading">
      <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            <li><a href="https://www.rawhex.com/tags/backdoors"><i class="fa fa-tags"></i> backdoors</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/badges"><i class="fa fa-tags"></i> badges</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/blinkenlights"><i class="fa fa-tags"></i> blinkenlights</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/bsides"><i class="fa fa-tags"></i> bsides</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/bsideslisbon"><i class="fa fa-tags"></i> bsideslisbon</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/careers"><i class="fa fa-tags"></i> careers</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/christmas"><i class="fa fa-tags"></i> christmas</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/cv"><i class="fa fa-tags"></i> cv</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/electronics"><i class="fa fa-tags"></i> electronics</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/hacking"><i class="fa fa-tags"></i> hacking</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/halloween"><i class="fa fa-tags"></i> halloween</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/hidiot"><i class="fa fa-tags"></i> hidiot</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/holidays"><i class="fa fa-tags"></i> holidays</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/interviews"><i class="fa fa-tags"></i> interviews</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/iot"><i class="fa fa-tags"></i> iot</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/jobs"><i class="fa fa-tags"></i> jobs</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/mistakes"><i class="fa fa-tags"></i> mistakes</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/pentesting"><i class="fa fa-tags"></i> pentesting</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/scanning"><i class="fa fa-tags"></i> scanning</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/sensors"><i class="fa fa-tags"></i> sensors</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/skills"><i class="fa fa-tags"></i> skills</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/talks"><i class="fa fa-tags"></i> talks</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/tcpip"><i class="fa fa-tags"></i> tcpip</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/traceroute"><i class="fa fa-tags"></i> traceroute</a>
            </li>
            
        </ul>
    </div>
</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
    <div class="container">

        
        <div class="col-md-4 col-sm-6">
            <h4>Join our Newsletter</h4>
            <p>Get our latest content in your mailbox. We won't send you spam. Unsubscribe any time.<p>
		<script async data-uid="f8dc3b5954" src="https://f.convertkit.com/f8dc3b5954/4bc38fd625.js"></script>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

             
            <h4>Recent posts</h4>
	
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/lisbon-training.jpg" alt="The Soul of a New Machine: The BSides Lisbon Badge Story">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2019/01/03/the_soul_of_a_new_machine/">The Soul of a New Machine: The BSides Lisbon Badge Story</a></h5>
		</div>
	  </div>



		
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/CM-EN-8155_1024x1024.jpg" alt="A Very Hacky Christmas Tree: Part II">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2017/12/12/a_very_hacky_christmas_tree_part_2/">A Very Hacky Christmas Tree: Part II</a></h5>
		</div>
	  </div>



		
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/FreshDesignElements-4291_1024x1024.jpg" alt="A Very Hacky Christmas Tree: Part I">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2017/12/08/a_very_hacky_christmas_tree_part_1/">A Very Hacky Christmas Tree: Part I</a></h5>
		</div>
	  </div>



		

            <hr class="hidden-md hidden-lg">
             

        </div>
        

        
        <div class="col-md-4 col-sm-6">

          <h4>Contact</h4>

            <p>Got questions? <a href="mailto:rawhex@rawhex.com">Email us</a> for answers.</p>
        <p><strong>Raw Hex Ltd.</strong>
        <br>c/o AML Benson
        <br>34 Westway
        <br>Caterham on The Hill
        <br>CR3 5TP
        <br>
      </p>
      


            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2014 - 2019, Raw Hex Ltd; all rights reserved. Company registered in England, no. 09384924.</p>
            
        </div>
    </div>
</div>





    </div>
    

    
<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?key=AIzaSyCFhtWLJcE30xOAjcbSFi-0fnoVmQZPb1Y&v=3.exp"></script>

<script src="https://www.rawhex.com/js/hpneo.gmaps.js"></script>
<script src="https://www.rawhex.com/js/gmaps.init.js"></script>
<script src="https://www.rawhex.com/js/front.js"></script>


<script src="https://www.rawhex.com/js/owl.carousel.min.js"></script>


  </body>
</html>



#####EOF#####


<!DOCTYPE html>
<html lang="en-gb">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>A Very Hacky Christmas Tree: Part II</title>
  <meta name="author" content="" />

  
  <meta name="keywords" content="devows, hugo, go">	
  

  
  <meta name="description" content="Site template made by devcows using hugo">	
  

  <meta name="generator" content="Hugo 0.52" />

  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="/css/animate.css" rel="stylesheet">

  
  
    <link href="/css/style.red.css" rel="stylesheet" id="theme-stylesheet">
  


  
  <link href="/css/custom.css" rel="stylesheet">

  
  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />
  

  <link href="/css/owl.carousel.css" rel="stylesheet">
  <link href="/css/owl.theme.css" rel="stylesheet">

  <link rel="alternate" href="https://www.rawhex.com/index.xml" type="application/rss+xml" title="Raw Hex">

  

  <meta property="og:title" content="A Very Hacky Christmas Tree: Part II" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/blog/2017/12/12/a_very_hacky_christmas_tree_part_2//" />
  <meta name="og:image" content="https://www.rawhex.com/img/CM-EN-8155_1024x1024.jpg"/>



</head>


  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">

                <div class="navbar-buttons">
                <a class="navbar-brand home" href="https://www.rawhex.com/">
                    <img src="https://www.rawhex.com/img/logo.png" alt="A Very Hacky Christmas Tree: Part II logo" class="hidden-xs hidden-sm">
                    <img src="https://www.rawhex.com/img/logo.png" alt="A Very Hacky Christmas Tree: Part II logo" class="visible-xs visible-sm">
                    <span class="sr-only">A Very Hacky Christmas Tree: Part II - go to homepage</span>
                </a>
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">

                <ul class="nav navbar-nav navbar-left">
                  
                  <li class="dropdown">
                    
                    <a href="/about/">About</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/blog/">Blog</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/products/hidiot/">HIDIOT</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/services/">Services</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="https://www.tindie.com/stores/RawHex/">Tindie Store</a>
                    
                  </li>
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>A Very Hacky Christmas Tree: Part II</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        <p class="text-muted text-uppercase mb-small text-right">By <a href="/authors/steve-lord/">Steve Lord</a>                                           
                                          
                                          in <a href="https://www.rawhex.com/categories/electronics">Electronics</a>
                                          
                                          | <i class="fa fa-calendar-o"></i> December 12, 2017</p>

                        <div id="post-content">
			  
			  
				<p><img class="img-responsive center-block" src="https://www.rawhex.com/img/CM-EN-8155_1024x1024.jpg" alt="A Very Hacky Christmas Tree: Part II"></p>
			  
                          

<p>Last week we built a set of beautiful Christmas tree lights. You can reprogram, and reuse these all year round. But what&rsquo;s cooler than beautiful Christmas tree lights? How about Christmas tree lights that change based on what&rsquo;s happening around the tree? Adding light sensors to your tree lights should take between half an hour and an hour from start to finish.</p>

<p>We put together a HIDIOT <a href="/blog/sensing-the-world-with-hidiot/">photoresistor tutorial</a> a while back. It&rsquo;s really easy to add a photoresistor to your HIDIOT, but we didn&rsquo;t do much with it. Right now, our lights slowly cycle through blue, green, yellow, red and purple. Lets use a photoresistor to jazz up our tree and change colour patterns based on how dark our room is.</p>

<h2 id="adding-a-light-sensor">Adding A Light Sensor</h2>

<p>First we need to look at how we&rsquo;ll physically connect our sensor. As with the photoresistor tutorial, we&rsquo;re going to set up a voltage divider circuit using a CdS Photoresistor and 4.7k ohm fixed resistor in series. We&rsquo;ll use the Analog to Digital Converter (ADC) on PB2 to sense light, and we&rsquo;ll modify our existing Christmas tree code to switch FastLED palette based on specific values. You&rsquo;ll need to tune these values for your tree.</p>

<p>It&rsquo;s best to use the code and setup from our earlier photoresistor tutorial to get an idea of possible value ranges before soldering parts to the HIDIOT. You can do it afterwards when it&rsquo;s all working, but it&rsquo;ll probably be quicker if you take measurements in advance.</p>

<p>Start by going back through the photoresistor tutorial to calibrate your light sensor. Make sure the Christmas tree lights are off. Use a bit of black electrical tape to form a tube around your photoresistor.</p>

<p><img src="/img/17-12-10_13-03-19_4736_large.jpg" alt="Tape on the LDR" /></p>

<p>This just stops the photoresistor from being affected by the light from the tree itself. Point the photoresistor at the floor. In the photo, the photoresistor is connected to the HIDIOT. It might be easier if you follow the photoresistor tutorial at using a breadboard if you&rsquo;re new to soldering. Turn the room lights on and off, taking readings each time to get an idea of possible value ranges and write them down somewhere for later.</p>

<p>Ok, we&rsquo;re ready to start looking at how we wire this up!</p>

<p><img src="/img/17-12-10_12-55-00_4734_large.jpg" alt="Simple pinout" /></p>

<p>Our voltage divider is simple, just like in our earlier tutorial. The circle colours on the picture above represent the 3 pins used by our sensor:</p>

<ul>
<li>Red - Photoresistor (P4/N to PB2/L)</li>
<li>Brown - 4.7k fixed resistor (P4/M to PB2/J)</li>
<li>Green - Wire to PB2 (PB2/K to PB2/H)</li>
</ul>

<p>Wire up your components on the board as shown above. Depending on how you orient your HIDIOT around the tree and whether or not you soldered the power LED, it may make sense to solder the photoresistor to the back side of the board.</p>

<p>Point the photoresistor down, as this stops dust collecting on the sensor. In the photo below, this is towards the USB cable that plugs into a wall wart adapter.</p>

<p><img src="/img/photoresistor-breakout_grande.jpg" alt="Photoresistor on board" /></p>

<p>Once you have it all wired up, you should have something that looks a little like the above on the back, and the below on the front. This is a board that&rsquo;s seen more than a few projects and is a bit battle scarred, but it still works! The photoresistor in the shot above is still connected to PB2, but is on a slightly different spot on the positive voltage rail, which still works fine.</p>

<p><img src="/img/17-12-10_12-54-28_4733_grande.jpg" alt="Photoresistor setup front side" /></p>

<p>Once you have your photoresistor wired up, it&rsquo;s time to look at our code. We&rsquo;ll build on the last tutorial, which is based off the FastLED library ColorPalette example.</p>

<script type="application/javascript" src="//gist.github.com/stevelord/82c4ee236209e36d0a70f33bc331994a.js"></script>

<p>In our previous code, we left the ChangePalettePeriodically() function in but didn&rsquo;t use it, as it&rsquo;s a useful bit of code to look at. This time, we&rsquo;ve changed the name to ChangePaletteFromLight() and call it to check light levels. This means that minor changes in light around a threshold level will cause palettes to bounce back and forth. You might want to make it so that this is only called once every few minutes if you notice the lights start freaking out at certain times of the day.</p>

<p>The ChangePaletteFromLight() function reads the ADC on PB2 and changes the palette based on the resulting value. Change the ranges to your calibrated values and see what happens when the lights are on versus when they&rsquo;re off. You should see the palettes change. You can easily add extra light levels if you prefer.</p>

<p>How does it look? If all goes well, you should have something like this.</p>

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Adding a light sensor to our Christmas Tree lights project lets you have different coloured tree light patterns at day and night. Learn how to build this easy project here: <a href="https://t.co/EpGyGeNlz5">https://t.co/EpGyGeNlz5</a> <a href="https://t.co/pZnIJV5bji">pic.twitter.com/pZnIJV5bji</a></p>&mdash; Raw Hex (@RawHex) <a href="https://twitter.com/RawHex/status/939848851875344384?ref_src=twsrc%5Etfw">December 10, 2017</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<h2 id="tuning-your-lights">Tuning your lights</h2>

<p>Test your lights are changing by shining a torch on the photoresistor. If you find the lights aren&rsquo;t changing enough for you, you can recalibrate the lights on the tree. Just upload the code from the photoresistor tutorial and it&rsquo;ll print out the light level every few seconds. Once you know what light level to use, update the tree code&rsquo;s ldrStatus value checks in ChangePaletteFromLight()&rsquo;s if statements and upload it back onto your HIDIOT. It might take a few minutes of trial and error to get the right combination of palettes and lights that you want, but your lights will be unique!</p>

<h2 id="going-further">Going further</h2>

<p>You can still use the tact switch on PB0, and with a bit of work you could use the one on PB2 too. Why not use one button to toggle whether or not the sensor palette change is called? You could also program the other button to cycle through palettes instead.</p>

                        </div>
                        
                <hr/>
<section class="bar no-mb color-white padding-big text-md-center bg-primary">
        <div class="container">
          <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-10">
              <h2 class="text-uppercase">Never miss a post</h2>
              <p class="lead mb-small">Like what you see?.</p>
              <p>Get our latest electronics and security content in your mailbox. We won't send you spam. Unsubscribe any time.</p>
		    <script async data-uid="f8dc3b5954" src="https://f.convertkit.com/f8dc3b5954/4bc38fd625.js"></script>
            </div>
          </div>
        </div>
</section>


             <div id="comments">
                                <div class="row comment">
                  <div class="col-sm-6 col-md-4 text-center-xs">
                    
                    
                  </div>
                </div>


              </div>

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Search</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" class="form-control" placeholder="Search">
                <input type="hidden" name="sitesearch" value="https://www.rawhex.com/">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            <li><a href="https://www.rawhex.com/categories/badges">badges (1)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/bsides">bsides (1)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/careers">careers (6)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/electronics">electronics (7)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/hidiot">hidiot (6)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/pentesting">pentesting (9)</a>
            </li>
            
        </ul>
    </div>
</div>








<div class="panel sidebar-menu">
    <div class="panel-heading">
      <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            <li><a href="https://www.rawhex.com/tags/backdoors"><i class="fa fa-tags"></i> backdoors</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/badges"><i class="fa fa-tags"></i> badges</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/blinkenlights"><i class="fa fa-tags"></i> blinkenlights</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/bsides"><i class="fa fa-tags"></i> bsides</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/bsideslisbon"><i class="fa fa-tags"></i> bsideslisbon</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/careers"><i class="fa fa-tags"></i> careers</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/christmas"><i class="fa fa-tags"></i> christmas</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/cv"><i class="fa fa-tags"></i> cv</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/electronics"><i class="fa fa-tags"></i> electronics</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/hacking"><i class="fa fa-tags"></i> hacking</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/halloween"><i class="fa fa-tags"></i> halloween</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/hidiot"><i class="fa fa-tags"></i> hidiot</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/holidays"><i class="fa fa-tags"></i> holidays</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/interviews"><i class="fa fa-tags"></i> interviews</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/iot"><i class="fa fa-tags"></i> iot</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/jobs"><i class="fa fa-tags"></i> jobs</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/mistakes"><i class="fa fa-tags"></i> mistakes</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/pentesting"><i class="fa fa-tags"></i> pentesting</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/scanning"><i class="fa fa-tags"></i> scanning</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/sensors"><i class="fa fa-tags"></i> sensors</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/skills"><i class="fa fa-tags"></i> skills</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/talks"><i class="fa fa-tags"></i> talks</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/tcpip"><i class="fa fa-tags"></i> tcpip</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/traceroute"><i class="fa fa-tags"></i> traceroute</a>
            </li>
            
        </ul>
    </div>
</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
    <div class="container">

        
        <div class="col-md-4 col-sm-6">
            <h4>Join our Newsletter</h4>
            <p>Get our latest content in your mailbox. We won't send you spam. Unsubscribe any time.<p>
		<script async data-uid="f8dc3b5954" src="https://f.convertkit.com/f8dc3b5954/4bc38fd625.js"></script>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

             
            <h4>Recent posts</h4>
	
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/lisbon-training.jpg" alt="The Soul of a New Machine: The BSides Lisbon Badge Story">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2019/01/03/the_soul_of_a_new_machine/">The Soul of a New Machine: The BSides Lisbon Badge Story</a></h5>
		</div>
	  </div>



		
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/CM-EN-8155_1024x1024.jpg" alt="A Very Hacky Christmas Tree: Part II">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2017/12/12/a_very_hacky_christmas_tree_part_2/">A Very Hacky Christmas Tree: Part II</a></h5>
		</div>
	  </div>



		
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/FreshDesignElements-4291_1024x1024.jpg" alt="A Very Hacky Christmas Tree: Part I">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2017/12/08/a_very_hacky_christmas_tree_part_1/">A Very Hacky Christmas Tree: Part I</a></h5>
		</div>
	  </div>



		

            <hr class="hidden-md hidden-lg">
             

        </div>
        

        
        <div class="col-md-4 col-sm-6">

          <h4>Contact</h4>

            <p>Got questions? <a href="mailto:rawhex@rawhex.com">Email us</a> for answers.</p>
        <p><strong>Raw Hex Ltd.</strong>
        <br>c/o AML Benson
        <br>34 Westway
        <br>Caterham on The Hill
        <br>CR3 5TP
        <br>
      </p>
      


            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2014 - 2019, Raw Hex Ltd; all rights reserved. Company registered in England, no. 09384924.</p>
            
        </div>
    </div>
</div>





    </div>
    

    
<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?key=AIzaSyCFhtWLJcE30xOAjcbSFi-0fnoVmQZPb1Y&v=3.exp"></script>

<script src="https://www.rawhex.com/js/hpneo.gmaps.js"></script>
<script src="https://www.rawhex.com/js/gmaps.init.js"></script>
<script src="https://www.rawhex.com/js/front.js"></script>


<script src="https://www.rawhex.com/js/owl.carousel.min.js"></script>


  </body>
</html>



#####EOF#####


<!DOCTYPE html>
<html lang="en-gb">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ghost Hunting With The HIDIOT</title>
  <meta name="author" content="" />

  
  <meta name="keywords" content="devows, hugo, go">	
  

  
  <meta name="description" content="You may have seen ghost hunters on TV, investigating paranormal activity (or like us, you may have heard it from hiding behind the sofa while the programme&#39;s been on). Did you know that you can use your HIDIOT to build the same type of equipment that ghost hunters use to track down bumps in the night? This battery powered halloween project is easy to build within 30 minutes, and is great for kids and adults.">
  

  <meta name="generator" content="Hugo 0.52" />

  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="/css/animate.css" rel="stylesheet">

  
  
    <link href="/css/style.red.css" rel="stylesheet" id="theme-stylesheet">
  


  
  <link href="/css/custom.css" rel="stylesheet">

  
  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />
  

  <link href="/css/owl.carousel.css" rel="stylesheet">
  <link href="/css/owl.theme.css" rel="stylesheet">

  <link rel="alternate" href="https://www.rawhex.com/index.xml" type="application/rss+xml" title="Raw Hex">

  

  <meta property="og:title" content="Ghost Hunting With The HIDIOT" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/blog/2017/10/30/ghost_hunting_with_the_hidiot//" />
  <meta name="og:image" content="https://www.rawhex.com/img/Pumpkin_Patch_1024x1024.jpg"/>



</head>


  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">

                <div class="navbar-buttons">
                <a class="navbar-brand home" href="https://www.rawhex.com/">
                    <img src="https://www.rawhex.com/img/logo.png" alt="Ghost Hunting With The HIDIOT logo" class="hidden-xs hidden-sm">
                    <img src="https://www.rawhex.com/img/logo.png" alt="Ghost Hunting With The HIDIOT logo" class="visible-xs visible-sm">
                    <span class="sr-only">Ghost Hunting With The HIDIOT - go to homepage</span>
                </a>
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">

                <ul class="nav navbar-nav navbar-left">
                  
                  <li class="dropdown">
                    
                    <a href="/about/">About</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/blog/">Blog</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/products/hidiot/">HIDIOT</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="/services/">Services</a>
                    
                  </li>
                  
                  <li class="dropdown">
                    
                    <a href="https://www.tindie.com/stores/RawHex/">Tindie Store</a>
                    
                  </li>
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Ghost Hunting With The HIDIOT</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        <p class="text-muted text-uppercase mb-small text-right">By <a href="/authors/steve-lord/">Steve Lord</a>                                           
                                          
                                          in <a href="https://www.rawhex.com/categories/electronics">Electronics</a>
                                          
                                          | <i class="fa fa-calendar-o"></i> October 30, 2017</p>

                        <div id="post-content">
			  
				<p class="text-sm">You may have seen ghost hunters on TV, investigating paranormal activity (or like us, you may have heard it from hiding behind the sofa while the programme&#39;s been on). Did you know that you can use your HIDIOT to build the same type of equipment that ghost hunters use to track down bumps in the night? This battery powered halloween project is easy to build within 30 minutes, and is great for kids and adults.</p>
			  
			  
				<p><img class="img-responsive center-block" src="https://www.rawhex.com/img/Pumpkin_Patch_1024x1024.jpg" alt="Ghost Hunting With The HIDIOT"></p>
			  
                          

<p>Ghost hunters use EMF meters as an essential tool. According to the <a href="https://anomaliesresearchsociety.wordpress.com/2017/10/11/electromagnetic-fields-emf-detectors-script/">Anomolies Research Society</a>, indicators of paranormal activity include fluctuations in EMF detection readings and background readings that drop or spike for no reason, with no explainable cause.</p>

<h2 id="what-we-ll-build">What we&rsquo;ll build</h2>

<p>We&rsquo;re going to build an EMF detector, so we&rsquo;re building our own analogue sensor from scratch. We&rsquo;ll also look at how we can use Digital Signal Processing (DSP) techniques to improve our detector. Once we have a working prototype, we&rsquo;ll make it mobile using a USB charger.</p>

<h2 id="how-an-emf-detector-works">How an EMF detector works</h2>

<p>EMF detectors measure electromagnetic fields generated by alternating current - the type of electricity found in your TV, PC or any mains-powered device. The current alternates 50 or 60 times a second (depending on where you live) and EMF meters detect the associated change in electromagnetic field.</p>

<p>If you&rsquo;ve ever heard a low pitched hum from a power supply, this is the electromagnetic equivalent of that hum.</p>

<p>Building our own sensors</p>

<p>In our <a href="/blog/ghost_hunting_with_the_hidiot/">last blog post</a> we looked at how we could use a photoresistor in series with a fixed resistor to detect light and dark. In this project, we&rsquo;re going to do something very similar. While you can spend a lot of money on EMF sensors, we&rsquo;ll build our own from scratch. Normally EMF is measured in milligauss, but like the photoresistor, ours is just a rough, uncalibrated measurement. It&rsquo;s certainly good enough for hunting ghosts on halloween.</p>

<p>Our final circuit should look something like this. We&rsquo;ll walk through this below.</p>

<p><img src="/img/emfdetector-schematic.png" alt="EMF Detector schematic" /></p>

<p>We&rsquo;ll use the HIDIOT&rsquo;s Analog input A1 (also known as PB2) as our sensor input, just like we did with the light sensor project. For our EMF detector we&rsquo;ll use 24 AWG wire as our antenna. The longer the Antenna, the more sensitive the detector. If it&rsquo;s too long, it&rsquo;ll start detecting us! It&rsquo;s easier to trim a long detector than try to lengthen a short one, so be generous and be prepared to trim back once it&rsquo;s working.</p>

<p>We&rsquo;ll bridge our antenna to a big resistor connected to the ground pin. In our example we&rsquo;re using a 1 Megaohm resistor, but if you have anything bigger that&rsquo;s fine too.</p>

<p>Finally, we&rsquo;ll power it using a USB battery charger. This will let us take our HIDIOT around with us. I&rsquo;m using a HooToo Tripmate Mini as a charger because it&rsquo;s what I had lying around, but any charger will do.</p>

<p>When it&rsquo;s finished, your EMF detector should look something like this:</p>

<p><img src="/img/emfdetector_grande.jpg" alt="EMF Detector" /></p>

<h2 id="using-the-breakout-area">Using the breakout area</h2>

<p>Unlike our sensor project, we&rsquo;ll use the breakout area. Lets take a look at the breakout area in a bit more detail first. Don&rsquo;t worry if this looks slightly confusing, it&rsquo;s actually really easy to use!</p>

<p><img src="/img/board-breakout.jpg" alt="Board Layout" /></p>

<p>The photo above shows the HIDIOT&rsquo;s breakout area, and the different coloured sections refer to different sections of the breakout. Each column is given a letter from A to N to make it easier to work with, just like on a breadboard. Each row has a name too. So if we say, row P1 and column G, you we&rsquo;re referring to the pin closest to the P1 text.</p>

<p>We&rsquo;ve drawn coloured circles around the pins that you&rsquo;re going to use, you can see them on row PB2 and columns H, I and M. H is used for the Antenna, and I and M are used for the resistor.</p>

<p>The coloured rectangles show how the pins are linked together. For example, all the pins in column A are a negative power rail. Column M is a negative power rail on the other side of the board. Columns H and I are linked together for each row. So when we solder our antenna to column H on PB2, and one resistor leg to column I, we&rsquo;re actually linking the antenna to the resistor. We call these links <em>bridges</em>.</p>

<h2 id="soldering-the-antenna">Soldering the antenna</h2>

<p>We&rsquo;re using 24 AWG wire as our antenna. The longer the antenna, the more sensitive the detector, but if it&rsquo;s too long it&rsquo;ll start to pick up interference from our bodies. As most of you reading this are alive, this is probably not what you want when ghost hunting. We&rsquo;ll start at 6 inches, or 15 cm long, and then trim the antenna back once we know everything is working.</p>

<p>Start by trimming one end of the antenna with a pair of trimmers, then solder the trimmed end to column H on row PB2. Trim the other side of the board with some snips.</p>

<h2 id="adding-the-resistor">Adding the resistor</h2>

<p>Take the resistor and place the legs through columns I and M on row PB2. Fold the legs back just like you did when <a href="https://docs.hidiot.com/building_a_hidiot/index/">building your HIDIOT</a>, and solder them in place. Now it&rsquo;s time to start coding.</p>

<p>We&rsquo;ll use the code from our light resistor tutorial to type the values out on the keyboard. Make sure you have a text editor open when testing the code or your HIDIOT will type numbers all over the place. Our EMF detector is completely uncalibrated, so unless you&rsquo;re going to spend a lot of time with expensive equipment calibrating it, don&rsquo;t use it for anything other than ghost hunting.</p>

<h2 id="testing-it-all-works">Testing it all works</h2>

<p>We can reuse the code from the light sensor tutorial and it should all work fine. We&rsquo;re reading from A1/PB2, and typing the value out. You might want to change the delay to something like 1000 or 500 milliseconds as EMF values tend to fluctuate a lot. In case you don&rsquo;t have the code saved, here it is below.</p>

<h2 id="making-it-portable">Making it portable</h2>

<p>If you find that the light comes on when you put your hand near the HIDIOT, trim the antenna a little and try again until you&rsquo;re happy that your hand isn&rsquo;t interfering. Try pointing the antenna at screens or mains-powered speakers to trigger it.</p>

<p>If we&rsquo;re going to make this portable, we won&rsquo;t need the keyboard routines. Instead, we&rsquo;ll use the LED on PB1 to tell us when there&rsquo;s something strange in the neighbourhood.</p>

<p>We can use the constrain function to make sure our readings are between 0 and 100. Because analogWrite expects a value between 0 and 255, a value of 100 is pretty small. We can use the arduino map function to scale our value to between 0 and 255.</p>

<script type="application/javascript" src="//gist.github.com/stevelord/8816871bcba18df9f703218d7807b981.js"></script>

<p>Compile and upload the sketch onto your HIDIOT, and plug it into a USB battery charger. Hopefully you should see the LED flicker when it&rsquo;s close to an EMF source.</p>

<h2 id="making-it-better">Making it better</h2>

<p>The flickering is ok, but it&rsquo;s not really a great indicator of EMF strength. If we take a bunch of samples and calculate an average, we can smooth out the signal a little. We can use a long integer to hold the sum of our sample values and divide them by the number of samples taken to get a mean average.</p>

<script type="application/javascript" src="//gist.github.com/stevelord/d2d39579bdc30497ded8032633aa416d.js"></script>

<p>You might find it&rsquo;ll still flicker at different points, but generally it shouldn&rsquo;t flicker as much if you hold it in one place.</p>

<h2 id="hunting-ghosts-like-pacman">Hunting ghosts like pacman</h2>

<p>Now you have a working EMF meter, you can plug it into a USB battery charger and take it with you and map out electromagnetic fields around your home and in your neighbourhood.</p>

<p>According to ghost hunter Brian Harness, to use an EMF meter to detect paranormal activity:</p>

<blockquote>
<p>Start by scanning the area you are investigating with a swaying motion that starts from side to side and finish with an up and down motion. Do this in a gentle even pattern. Do not jerk the meter, or move the meter to fast. This will give off a false reading.</p>
</blockquote>

<p>Harnois also suggests that you take into account your local power sources:</p>

<blockquote>
<p>EMF meters are very sensitive to power sources and will register such things as televisions, stereos, microwaves and power lines. The EMF meter will even register your camera if it is to close to it. The most important thing is to be aware of your surroundings before thinking that you have just detected paranormal activity.</p>
</blockquote>

<h2 id="going-further">Going Further</h2>

<p>You might&rsquo;ve noticed that there are a lot of similarities between our EMF detector and the light sensor project. Averaging out samples is a form of Digital Signal Processing (DSP), which is used in everything from sound systems to spacecraft.</p>

<p>If you want to go further, try taking our light sensor tutorial and applying the average reading functionality to it. You can test that it works by using it in a darkened room with a candle. The flicker of the candle will make for really variable values, but by taking an average you&rsquo;ll get a better overall view of light and dark in a room.</p>

<p>Another way to make the battery last longer is to use the tact switch on PB0 to trigger the sensor read, but to otherwise sleep the HIDIOT when not being used. Sleep is a complicated topic that we&rsquo;ll cover another time, but you can find some more info on using the tact switch in our <a href="https://docs.hidiot.com/getting_tactile/getting_started/">documentation</a>.</p>

<h2 id="and-finally">And finally</h2>

<p>Although there&rsquo;s some debate on whether or not ghosts are real, one thing that is real is electricity, and it can kill. Make sure that when you use your EMF detector, you do so safely. Keep it dry, and don&rsquo;t make contact with electrical terminals, even if you&rsquo;re registering no activity. Our EMF meter project is uncalibrated, and not always reliable. You might not be afraid of no ghosts, but stay safe and make sure you don&rsquo;t become one.</p>

<p>If you&rsquo;ve enjoyed this project, sign up for our mailing list below. There&rsquo;s new projects being released all the time, and you&rsquo;ll hear about them there first. Just sign up below and get project ideas, tips and tricks from us about once a week.</p>

                        </div>
                        
                <hr/>
<section class="bar no-mb color-white padding-big text-md-center bg-primary">
        <div class="container">
          <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-10">
              <h2 class="text-uppercase">Never miss a post</h2>
              <p class="lead mb-small">Like what you see?.</p>
              <p>Get our latest electronics and security content in your mailbox. We won't send you spam. Unsubscribe any time.</p>
		    <script async data-uid="f8dc3b5954" src="https://f.convertkit.com/f8dc3b5954/4bc38fd625.js"></script>
            </div>
          </div>
        </div>
</section>


             <div id="comments">
                                <div class="row comment">
                  <div class="col-sm-6 col-md-4 text-center-xs">
                    
                    
                  </div>
                </div>


              </div>

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Search</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" class="form-control" placeholder="Search">
                <input type="hidden" name="sitesearch" value="https://www.rawhex.com/">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            <li><a href="https://www.rawhex.com/categories/badges">badges (1)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/bsides">bsides (1)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/careers">careers (6)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/electronics">electronics (7)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/hidiot">hidiot (6)</a>
            </li>
            
            <li><a href="https://www.rawhex.com/categories/pentesting">pentesting (9)</a>
            </li>
            
        </ul>
    </div>
</div>








<div class="panel sidebar-menu">
    <div class="panel-heading">
      <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            <li><a href="https://www.rawhex.com/tags/backdoors"><i class="fa fa-tags"></i> backdoors</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/badges"><i class="fa fa-tags"></i> badges</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/blinkenlights"><i class="fa fa-tags"></i> blinkenlights</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/bsides"><i class="fa fa-tags"></i> bsides</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/bsideslisbon"><i class="fa fa-tags"></i> bsideslisbon</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/careers"><i class="fa fa-tags"></i> careers</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/christmas"><i class="fa fa-tags"></i> christmas</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/cv"><i class="fa fa-tags"></i> cv</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/electronics"><i class="fa fa-tags"></i> electronics</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/hacking"><i class="fa fa-tags"></i> hacking</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/halloween"><i class="fa fa-tags"></i> halloween</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/hidiot"><i class="fa fa-tags"></i> hidiot</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/holidays"><i class="fa fa-tags"></i> holidays</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/interviews"><i class="fa fa-tags"></i> interviews</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/iot"><i class="fa fa-tags"></i> iot</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/jobs"><i class="fa fa-tags"></i> jobs</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/mistakes"><i class="fa fa-tags"></i> mistakes</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/pentesting"><i class="fa fa-tags"></i> pentesting</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/scanning"><i class="fa fa-tags"></i> scanning</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/sensors"><i class="fa fa-tags"></i> sensors</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/skills"><i class="fa fa-tags"></i> skills</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/talks"><i class="fa fa-tags"></i> talks</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/tcpip"><i class="fa fa-tags"></i> tcpip</a>
            </li>
            
            <li><a href="https://www.rawhex.com/tags/traceroute"><i class="fa fa-tags"></i> traceroute</a>
            </li>
            
        </ul>
    </div>
</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
    <div class="container">

        
        <div class="col-md-4 col-sm-6">
            <h4>Join our Newsletter</h4>
            <p>Get our latest content in your mailbox. We won't send you spam. Unsubscribe any time.<p>
		<script async data-uid="f8dc3b5954" src="https://f.convertkit.com/f8dc3b5954/4bc38fd625.js"></script>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

             
            <h4>Recent posts</h4>
	
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/lisbon-training.jpg" alt="The Soul of a New Machine: The BSides Lisbon Badge Story">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2019/01/03/the_soul_of_a_new_machine/">The Soul of a New Machine: The BSides Lisbon Badge Story</a></h5>
		</div>
	  </div>



		
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/CM-EN-8155_1024x1024.jpg" alt="A Very Hacky Christmas Tree: Part II">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2017/12/12/a_very_hacky_christmas_tree_part_2/">A Very Hacky Christmas Tree: Part II</a></h5>
		</div>
	  </div>



		
	  <div class="row">
		<div class="col-md-3 d-flex align-items-center">
                          
                            <img class="img-responsive" src="https://www.rawhex.com/img/FreshDesignElements-4291_1024x1024.jpg" alt="A Very Hacky Christmas Tree: Part I">
                          
		</div>
		<div class="col-md-9">
		<h5 class="mb-0 text"><a href="https://www.rawhex.com/blog/2017/12/08/a_very_hacky_christmas_tree_part_1/">A Very Hacky Christmas Tree: Part I</a></h5>
		</div>
	  </div>



		

            <hr class="hidden-md hidden-lg">
             

        </div>
        

        
        <div class="col-md-4 col-sm-6">

          <h4>Contact</h4>

            <p>Got questions? <a href="mailto:rawhex@rawhex.com">Email us</a> for answers.</p>
        <p><strong>Raw Hex Ltd.</strong>
        <br>c/o AML Benson
        <br>34 Westway
        <br>Caterham on The Hill
        <br>CR3 5TP
        <br>
      </p>
      


            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2014 - 2019, Raw Hex Ltd; all rights reserved. Company registered in England, no. 09384924.</p>
            
        </div>
    </div>
</div>





    </div>
    

    
<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?key=AIzaSyCFhtWLJcE30xOAjcbSFi-0fnoVmQZPb1Y&v=3.exp"></script>

<script src="https://www.rawhex.com/js/hpneo.gmaps.js"></script>
<script src="https://www.rawhex.com/js/gmaps.init.js"></script>
<script src="https://www.rawhex.com/js/front.js"></script>


<script src="https://www.rawhex.com/js/owl.carousel.min.js"></script>


  </body>
</html>



#####EOF#####


